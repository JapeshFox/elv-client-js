<!DOCTYPE html>
<html style="height: 100%;">
<head>
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
</head>
<body style="height: 100%;">
  <script src='../ElvClient-min.js'></script>
  <script src='../test/TestMethods.js'></script>
  <script>
    function test() {
      const button = document.getElementById("button");
      button.parentElement.removeChild(button);

      const output = document.getElementById("output");

      const RunTests = async () => {
        let Client = new ElvClient(
          {
            hostname: "localhost",
            port: 8008,
            useHTTPS: false,
            ethHostname: "localhost",
            ethPort: 7545,
            ethUseHTTPS: false
          }
        );

        output.textContent = "Decrypting private key...";

        /*
        let wallet = Client.GenerateWallet();
        const PK = "{\"address\":\"71b011b67dc8f5c323a34cd14b952721d5750c93\",\"crypto\":{\"cipher\":\"aes-128-ctr\",\"ciphertext\":\"768c0b26476793e52c7e292b6b221fa4d7f82a7d20a7ccc042ce43c072f97f38\",\"cipherparams\":{\"iv\":\"049e2bed69573f62da6576c21769b520\"},\"kdf\":\"scrypt\",\"kdfparams\":{\"dklen\":32,\"n\":262144,\"p\":1,\"r\":8,\"salt\":\"332b0f7730c580aa86b3ec8e79d228e9f76426bb328c468cb57e99e39132c29f\"},\"mac\":\"36079b7f32edf1c3d8d1697313f8088c78be07627ffb6421f655409373fded79\"},\"id\":\"8181d812-ab5e-4e5b-b023-e9049c2aec48\",\"version\":3}";
        let signer = await wallet.AddAccountFromEncryptedPK({
          accountName: "Alice",
          encryptedPrivateKey: PK,
          password: "test"
        });

*/
        let wallet = Client.GenerateWallet();
        let signer = wallet.AddAccount({
          accountName: "Alice",
          privateKey: "0000000000000000000000000000000000000000000000000000000000000000"
        });

        output.textContent = "Running tests...";

        return TestQueries(Client, signer);
      };

      RunTests().then(result => output.textContent = result);
    }
  </script>
  <div>
    <button id="button" onclick="test()" style="height: 25px; width: 100px; background: blue; color: white; border: 0;">Test</button>
    <pre id="output"></pre>
  </div>
</body>
</html>
