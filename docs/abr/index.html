<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=HzG2TfC862qPNsZsV_djPpw1p2GWMnLkaZhQGfvu4pQibyMe4ukfvPvpfYEqkIMW');.lst-kix_anffwd2dipmb-5>li:before{content:"\0025a0  "}ol.lst-kix_jljp7doxtig3-7.start{counter-reset:lst-ctn-kix_jljp7doxtig3-7 0}.lst-kix_anffwd2dipmb-4>li:before{content:"\0025cb  "}.lst-kix_anffwd2dipmb-8>li:before{content:"\0025a0  "}.lst-kix_jljp7doxtig3-3>li{counter-increment:lst-ctn-kix_jljp7doxtig3-3}.lst-kix_j5bwl1vrgwm6-5>li:before{content:"\0025a0  "}.lst-kix_anffwd2dipmb-1>li:before{content:"\0025cb  "}.lst-kix_anffwd2dipmb-2>li:before{content:"\0025a0  "}.lst-kix_q3x6t4pa3wqp-7>li:before{content:"\0025cb  "}ol.lst-kix_jljp7doxtig3-0.start{counter-reset:lst-ctn-kix_jljp7doxtig3-0 0}.lst-kix_j5bwl1vrgwm6-3>li:before{content:"\0025cf  "}.lst-kix_j5bwl1vrgwm6-4>li:before{content:"\0025cb  "}.lst-kix_anffwd2dipmb-3>li:before{content:"\0025cf  "}ul.lst-kix_j5bwl1vrgwm6-8{list-style-type:none}ul.lst-kix_j5bwl1vrgwm6-7{list-style-type:none}.lst-kix_q3x6t4pa3wqp-8>li:before{content:"\0025a0  "}.lst-kix_jljp7doxtig3-4>li{counter-increment:lst-ctn-kix_jljp7doxtig3-4}.lst-kix_anffwd2dipmb-0>li:before{content:"\0025cf  "}ul.lst-kix_anffwd2dipmb-0{list-style-type:none}ul.lst-kix_anffwd2dipmb-1{list-style-type:none}.lst-kix_j5bwl1vrgwm6-6>li:before{content:"\0025cf  "}ul.lst-kix_anffwd2dipmb-2{list-style-type:none}ul.lst-kix_anffwd2dipmb-3{list-style-type:none}ul.lst-kix_anffwd2dipmb-4{list-style-type:none}ul.lst-kix_anffwd2dipmb-5{list-style-type:none}.lst-kix_j5bwl1vrgwm6-7>li:before{content:"\0025cb  "}.lst-kix_j5bwl1vrgwm6-8>li:before{content:"\0025a0  "}ul.lst-kix_anffwd2dipmb-6{list-style-type:none}ul.lst-kix_anffwd2dipmb-7{list-style-type:none}ul.lst-kix_anffwd2dipmb-8{list-style-type:none}.lst-kix_jljp7doxtig3-2>li{counter-increment:lst-ctn-kix_jljp7doxtig3-2}ol.lst-kix_jljp7doxtig3-1{list-style-type:none}ol.lst-kix_jljp7doxtig3-0{list-style-type:none}ol.lst-kix_jljp7doxtig3-3{list-style-type:none}ol.lst-kix_jljp7doxtig3-2{list-style-type:none}.lst-kix_jljp7doxtig3-8>li{counter-increment:lst-ctn-kix_jljp7doxtig3-8}ol.lst-kix_jljp7doxtig3-5{list-style-type:none}ol.lst-kix_jljp7doxtig3-4{list-style-type:none}ol.lst-kix_jljp7doxtig3-7{list-style-type:none}.lst-kix_jljp7doxtig3-5>li{counter-increment:lst-ctn-kix_jljp7doxtig3-5}ol.lst-kix_jljp7doxtig3-6{list-style-type:none}ul.lst-kix_j5bwl1vrgwm6-6{list-style-type:none}.lst-kix_j5bwl1vrgwm6-1>li:before{content:"\0025cb  "}.lst-kix_j5bwl1vrgwm6-2>li:before{content:"\0025a0  "}ul.lst-kix_j5bwl1vrgwm6-5{list-style-type:none}ul.lst-kix_j5bwl1vrgwm6-4{list-style-type:none}ul.lst-kix_j5bwl1vrgwm6-3{list-style-type:none}ul.lst-kix_j5bwl1vrgwm6-2{list-style-type:none}ul.lst-kix_j5bwl1vrgwm6-1{list-style-type:none}ul.lst-kix_j5bwl1vrgwm6-0{list-style-type:none}ol.lst-kix_jljp7doxtig3-3.start{counter-reset:lst-ctn-kix_jljp7doxtig3-3 0}.lst-kix_anffwd2dipmb-7>li:before{content:"\0025cb  "}.lst-kix_j5bwl1vrgwm6-0>li:before{content:"\0025cf  "}ol.lst-kix_jljp7doxtig3-6.start{counter-reset:lst-ctn-kix_jljp7doxtig3-6 0}.lst-kix_anffwd2dipmb-6>li:before{content:"\0025cf  "}ul.lst-kix_q3x6t4pa3wqp-7{list-style-type:none}ul.lst-kix_q3x6t4pa3wqp-8{list-style-type:none}ul.lst-kix_q3x6t4pa3wqp-5{list-style-type:none}ul.lst-kix_q3x6t4pa3wqp-6{list-style-type:none}.lst-kix_jljp7doxtig3-0>li{counter-increment:lst-ctn-kix_jljp7doxtig3-0}ul.lst-kix_q3x6t4pa3wqp-0{list-style-type:none}ul.lst-kix_q3x6t4pa3wqp-3{list-style-type:none}ul.lst-kix_q3x6t4pa3wqp-4{list-style-type:none}ul.lst-kix_q3x6t4pa3wqp-1{list-style-type:none}ul.lst-kix_q3x6t4pa3wqp-2{list-style-type:none}ol.lst-kix_jljp7doxtig3-8{list-style-type:none}ol.lst-kix_jljp7doxtig3-5.start{counter-reset:lst-ctn-kix_jljp7doxtig3-5 0}.lst-kix_jljp7doxtig3-7>li{counter-increment:lst-ctn-kix_jljp7doxtig3-7}ol.lst-kix_jljp7doxtig3-2.start{counter-reset:lst-ctn-kix_jljp7doxtig3-2 0}.lst-kix_jljp7doxtig3-1>li{counter-increment:lst-ctn-kix_jljp7doxtig3-1}ol.lst-kix_jljp7doxtig3-1.start{counter-reset:lst-ctn-kix_jljp7doxtig3-1 0}.lst-kix_jljp7doxtig3-4>li:before{content:"" counter(lst-ctn-kix_jljp7doxtig3-4,lower-latin) ". "}.lst-kix_jljp7doxtig3-6>li:before{content:"" counter(lst-ctn-kix_jljp7doxtig3-6,decimal) ". "}.lst-kix_jljp7doxtig3-5>li:before{content:"" counter(lst-ctn-kix_jljp7doxtig3-5,lower-roman) ". "}.lst-kix_q3x6t4pa3wqp-1>li:before{content:"\0025cb  "}.lst-kix_jljp7doxtig3-0>li:before{content:"" counter(lst-ctn-kix_jljp7doxtig3-0,decimal) ". "}.lst-kix_jljp7doxtig3-8>li:before{content:"" counter(lst-ctn-kix_jljp7doxtig3-8,lower-roman) ". "}ol.lst-kix_jljp7doxtig3-8.start{counter-reset:lst-ctn-kix_jljp7doxtig3-8 0}.lst-kix_q3x6t4pa3wqp-0>li:before{content:"\0025cf  "}.lst-kix_jljp7doxtig3-7>li:before{content:"" counter(lst-ctn-kix_jljp7doxtig3-7,lower-latin) ". "}.lst-kix_q3x6t4pa3wqp-5>li:before{content:"\0025a0  "}ol.lst-kix_jljp7doxtig3-4.start{counter-reset:lst-ctn-kix_jljp7doxtig3-4 0}.lst-kix_q3x6t4pa3wqp-3>li:before{content:"\0025cf  "}.lst-kix_q3x6t4pa3wqp-2>li:before{content:"\0025a0  "}.lst-kix_q3x6t4pa3wqp-6>li:before{content:"\0025cf  "}.lst-kix_jljp7doxtig3-1>li:before{content:"" counter(lst-ctn-kix_jljp7doxtig3-1,lower-latin) ". "}.lst-kix_jljp7doxtig3-2>li:before{content:"" counter(lst-ctn-kix_jljp7doxtig3-2,lower-roman) ". "}.lst-kix_jljp7doxtig3-6>li{counter-increment:lst-ctn-kix_jljp7doxtig3-6}.lst-kix_q3x6t4pa3wqp-4>li:before{content:"\0025cb  "}.lst-kix_jljp7doxtig3-3>li:before{content:"" counter(lst-ctn-kix_jljp7doxtig3-3,decimal) ". "}ol{margin:0;padding:0}table td,table th{padding:0}.c15{border-right-style:solid;border-top-width:1pt;border-bottom-color:#000000;border-right-width:1pt;padding-left:0pt;border-left-color:#000000;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;border-top-color:#000000;border-bottom-style:solid;padding-right:0pt}.c5{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:8pt;font-family:"Courier New";font-style:normal}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c24{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Arial";font-style:normal}.c10{color:#000000;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c16{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial"}.c13{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c1{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c21{color:#000000;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c12{color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:normal}.c7{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;font-weight:700;text-decoration:underline}.c18{-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline;text-decoration-skip-ink:none}.c22{-webkit-text-decoration-skip:none;font-weight:400;text-decoration:underline;text-decoration-skip-ink:none}.c23{background-color:#ffffff;max-width:504pt;padding:36pt 54pt 36pt 54pt}.c8{margin-left:36pt;padding-left:0pt}.c6{font-weight:400;font-family:"Roboto Mono"}.c20{color:inherit;text-decoration:inherit}.c14{font-weight:400;font-family:"Courier New"}.c4{font-weight:400;font-family:"Pragati Narrow"}.c19{padding:0;margin:0}.c17{margin-left:72pt;padding-left:0pt}.c25{font-size:8pt}.c11{font-style:italic}.c9{font-weight:700}.c3{height:11pt}.c2{background-color:#d9d9d9}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c23"><p class="c1"><span class="c9 c10">Eluvio Content Fabric: sample commands for IMF ingest</span></p><p class="c1"><span class="c24">last revised: 2020-03-27</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">In the instructions below there are a number of operations done via browser. These can be done programmatically as well and we can provide code samples as needed.</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c7">Preparation</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">Find your Content Fabric private key and record it in a safe place:</span></p><p class="c1 c3"><span class="c0"></span></p><ol class="c19 lst-kix_jljp7doxtig3-0 start" start="1"><li class="c1 c8"><span>If you have been set up on our </span><span class="c9">demo</span><span>&nbsp;network, point browser to: </span><span class="c18">https://core.demov3.contentfabric.io/#/apps/Eluvio%20Fabric%20Browser/#/</span><span><br><br>If you have been set up on our </span><span class="c9">production</span><span>&nbsp;network, point browser to:<br></span><span class="c18">https://core.v3.contentfabric.io/#/apps/Eluvio%20Fabric%20Browser/#/</span><span class="c0"><br></span></li><li class="c1 c8"><span class="c0">Enter the password you chose when first setting up your account</span></li><li class="c1 c8"><span class="c0">Click on the &quot;eluv.io&quot; logo at top left</span></li><li class="c1 c8"><span class="c0">Click on Profile</span></li><li class="c1 c8"><span>Click on the key icon </span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 20.95px; height: 20.00px;"><img alt="" src="images/icon_key.png" style="width: 20.95px; height: 20.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c0">to reveal your private key (0x&hellip; )</span></li><li class="c1 c8"><span class="c0">Double-click on this value and copy. </span></li><li class="c1 c8"><span class="c9">IMPORTANT:</span><span>&nbsp;Save in a safe place (a permanent file). Do not share this key. The Content Fabric is designed to be trustless - we do not keep a copy of your key and cannot reset it for you. Until you save a copy of your key somewhere it only exists in your browser&#39;s local storage, which can get erased if you choose to wipe your browser history.</span></li></ol><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">Download and set up the elv-client-js library:</span></p><p class="c1 c3"><span class="c0"></span></p><ul class="c19 lst-kix_q3x6t4pa3wqp-0 start"><li class="c1 c8"><span class="c0">If you do not have them already, install git and node.js / npm</span></li><li class="c1 c8"><span class="c0">Navigate to the directory where you would like to install elv-client-js</span></li></ul><ul class="c19 lst-kix_q3x6t4pa3wqp-1 start"><li class="c1 c17"><span class="c6">git clone </span><span class="c6 c18"><a class="c20" href="https://www.google.com/url?q=https://github.com/eluv-io/elv-client-js&amp;sa=D&amp;ust=1586806175647000">https://github.com/eluv-io/elv-client-js</a></span></li><li class="c1 c17"><span class="c12 c6">cd elv-client-js</span></li><li class="c1 c17"><span class="c12 c6">git checkout develop</span></li><li class="c1 c17"><span class="c12 c6">npm install</span></li><li class="c1 c17"><span class="c12 c6">npm audit fix</span></li></ul><ul class="c19 lst-kix_q3x6t4pa3wqp-0"><li class="c1 c8"><span>At this point, you may still see some warnings about package vulnerabilities. As we are only running local command line scripts (rather than using node.js to run a web app that accepts input from the outside world) these are safe to disregard</span><hr style="page-break-before:always;display:none;"></li><li class="c1 c8"><span>Edit the file </span><span class="c6">elv-client-js/TestConfiguration.json</span><span>&nbsp;- to connect to our </span><span class="c9">demo</span><span>&nbsp;network, this file should be set to contain the following:<br><br></span><span class="c6">{<br> &nbsp;&quot;config-url&quot;: &quot;https://demov3.net955210.contentfabric.io/config&quot;<br>}<br></span><span><br>To connect to our </span><span class="c9">production</span><span>&nbsp;network, the file should be set to contain the following:<br><br></span><span class="c6">{<br>&quot;config-url&quot;:&quot;https://host-66-220-3-85.contentfabric.io/config/config&quot;<br>}<br></span></li></ul><p class="c1"><span class="c0">Configure environment variables:</span></p><p class="c1 c3"><span class="c0"></span></p><ul class="c19 lst-kix_j5bwl1vrgwm6-0 start"><li class="c1 c8"><span class="c6">export PRIVATE_KEY=0x&hellip;</span><span>&nbsp;</span><span class="c16 c11">(your Content Fabric private key)</span></li><li class="c1 c8"><span class="c6">export AWS_REGION=</span><span class="c11 c16">(your AWS region)</span></li><li class="c1 c8"><span class="c6">export AWS_BUCKET=</span><span class="c16 c11">(your AWS bucket name)</span></li><li class="c1 c8"><span class="c6">export AWS_KEY=AK&hellip;</span><span>&nbsp;</span><span class="c16 c11">(your AWS S3 key)</span></li><li class="c1 c8"><span class="c6">export AWS_SECRET=&hellip;</span><span>&nbsp;</span><span class="c16 c11">(your AWS S3 secret)</span></li></ul><p class="c1 c3"><span class="c0"></span></p><hr style="page-break-before:always;display:none;"><p class="c1 c3"><span class="c7 c21"></span></p><p class="c1"><span class="c7">Creating a Production Master object</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">The Production Master object contains links to your original source material. It is not directly playable, but is used to generate a playable mezzanine object.</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span>As part of your tenancy set up, you will have a number of libraries generated, including one to hold Production Masters - it should be labeled something like &quot;</span><span class="c11">COMPANY_NAME</span><span class="c0">&nbsp;- Title Masters&quot;. In your browser, click on &quot;Content&quot; in the left sidebar, then click on the library. </span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">On the next screen, click on the &quot;Library Info&quot; tab to find the Library ID.</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">Here is a sample command line to generate a Production Master:</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1 c2"><span class="c12 c4">cd elv-client-js</span></p><p class="c1 c2"><span class="c12 c4">node testScripts/CreateProductionMaster.js \</span></p><p class="c1 c2"><span class="c12 c4">--library ilib3xDQU7yDgZZQsmMwUrHTwzAEbbdu \</span></p><p class="c1 c2"><span class="c12 c4">--title &quot;Big Buck Bunny (master)&quot; \</span></p><p class="c1 c2"><span class="c12 c4">--s3-reference \</span></p><p class="c1 c2"><span class="c12 c4">--type &quot;Production Master&quot; \</span></p><p class="c1 c2"><span class="c12 c4">--files bbb_sunflower_1080p_60fps_stereo_abl.mp4 </span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">NOTE: the S3 bucket name is omitted from the start of file paths!</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">The server then examines the file(s) for audio and video streams, then makes a best guess about what should be included in the mezzanine.</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">You should see output like the following:</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c5">Creating Production Master</span></p><p class="c1"><span class="c5">Production Master</span></p><p class="c1"><span class="c5">{ done: true, uploadedFiles: 1, totalFiles: 1 }</span></p><p class="c1 c3"><span class="c5"></span></p><p class="c1"><span class="c5">Production master object created:</span></p><p class="c1"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Object ID: iq__2QEH2nqrLkwZpkNoguw1RGW7hFK4</span></p><p class="c1"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Version Hash: hq__9v2JY21ESnsvNdwWwgJrjiw7jHWv5nXik6quVn6FUgDxbgTgJT8toxBVb1ShZZH4mcFSFcJUJJ </span></p><p class="c1 c3"><span class="c5"></span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span>If you included any non-media files in the --files list, you will see warnings at the end of the output complaining &quot;</span><span class="c14 c25">Failed to create media.Source from file</span><span class="c0">&quot;. These can be ignored as long as you included at least one media file.</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">In your browser, if you click on &quot;Content&quot; in the left sidebar, then click on your Masters library, you should see your new Production Master object.</span></p><p class="c1"><span>(If you are already on the page that lists objects in the library you may need to click the refresh icon </span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 21.21px; height: 20.00px;"><img alt="" src="images/icon_reload.png" style="width: 21.21px; height: 20.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c0">to see the new object)</span></p><p class="c1 c3"><span class="c0"></span></p><hr style="page-break-before:always;display:none;"><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span>Clicking on the object will show you details about the object. For the next step (generating a mezzanine) you will need the Latest Version &rarr; Hash for the object. This value (</span><span class="c14">hq__9v2JY2&hellip; </span><span>for this example) can be copied by clicking on the clipboard icon as shown below. It is also listed in the output from the </span><span class="c6">CreateProductionMaster.js</span><span class="c0">&nbsp;script.</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c13 c15"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 656.78px; height: 625px;"><img alt="" src="images/copy_latest_version_hash.png" style="width: 656.78px; height: 625px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">Clicking on the &quot;Show Metadata&quot; button and drilling down into &quot;production_master / variants / default / streams&quot; will reveal what files and stream indexes the server has chosen to include in the mezzanine.</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c7">Grant Permissions on Production Master object</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span>From the object details page above, click the blue &quot;Groups&quot; button at top - you should see a screen with Access Group &quot;</span><span class="c11">COMPANY_NAME</span><span class="c0">&nbsp;Content Admins&quot; already chosen for you as the first field. </span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">Check all 3 boxes &quot;See&quot;, &quot;Access&quot;, and &quot;Manage&quot;, then click &quot;Submit&quot;. </span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c7">Creating a Mezzanine object</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">The Mezzanine object contains transcoded media optimized for ABR streaming. Depending on the ABR profile you choose, it is playable via HLS and/or DASH with DRM (you also have the option to offer playout in the clear).</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span>As part of your tenancy set up, you will have a number of libraries generated, including one to hold ABR Mezzanines - it should be labeled something like &quot;</span><span class="c11">COMPANY_NAME</span><span class="c0">&nbsp;- Title Mezzanines&quot;. In your browser, click on &quot;Content&quot; in the left sidebar, then click on the library. </span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">On the next screen, click on the &quot;Library Info&quot; tab to find the Library ID.</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span>You should also have a Content Type already set up for you, named &quot;</span><span class="c11">COMPANY_NAME </span><span class="c0">- Title&quot;. This is used to allow customizing the metadata fields that are associated with the Mezzanine object.</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span>The playout formats, DRM and resolution ladder for ABR streaming are contained in JSON files in </span><span class="c12 c6">elv-client-js/testScripts/</span></p><p class="c1 c3"><span class="c12 c6"></span></p><ul class="c19 lst-kix_anffwd2dipmb-0 start"><li class="c1 c8"><span class="c6 c12">abr_profile_4k_clear.json</span></li><li class="c1 c8"><span class="c12 c6">abr_profile_4k_drm.json</span></li><li class="c1 c8"><span class="c12 c6">abr_profile_clear.json</span></li><li class="c1 c8"><span class="c12 c6">abr_profile_drm.json</span></li></ul><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">The 4k files are specifically for offering 16:9 material at 3840x2160 resolution. </span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span>For most content we recommend using the </span><span class="c6">abr_profile_drm.json</span><span class="c0">&nbsp;file, which specifies a top rung of 1920x1080 @ 9.5 mbps.</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">The *_clear files are for publishing without DRM.</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">Here is a sample command to generate a mezzanine:</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1 c2"><span class="c12 c4">node testScripts/CreateABRMezzanine.js --library ilib4JFY7hontNKJJmM4XnZaweTbH9tq \</span></p><p class="c1 c2"><span class="c12 c4">--masterHash hq__9v2JY21ESnsvNdwWwgJrjiw7jHWv5nXik6quVn6FUgDxbgTgJT8toxBVb1ShZZH4mcFSFcJUJJ \</span></p><p class="c1 c2"><span class="c12 c4">--title &quot;Big Buck Bunny&quot; \</span></p><p class="c1 c2"><span class="c4">--type &quot;</span><span class="c4 c11">COMPANY_NAME</span><span class="c12 c4">&nbsp;- Title&quot; \</span></p><p class="c1 c2"><span class="c12 c4">--abr-profile testScripts/abr_profile_drm.json</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span>Note in particular that the </span><span class="c6">--library</span><span>&nbsp;is different than for CreateProductionMaster.js, and that </span><span class="c6">--masterHash</span><span class="c0">&nbsp;is set to the Latest Version &rarr; Hash value from the Production Master.</span></p><p class="c1 c3"><span class="c0"></span></p><hr style="page-break-before:always;display:none;"><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">Your output should look something like this:</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c5">Creating ABR Mezzanine...</span></p><p class="c1"><span class="c5">Starting Mezzanine Job(s)</span></p><p class="c1 c3"><span class="c5"></span></p><p class="c1"><span class="c5">Library ID ilib4JFY7hontNKJJmM4XnZaweTbH9tq</span></p><p class="c1"><span class="c5">Object ID iq__4N1gG59cE1YzAL3NfRs39rFVTq8q</span></p><p class="c1"><span class="c5">Offering: default</span></p><p class="c1"><span class="c5">Write Token: tqw_4SiNg6kktmRGmAjLXjeFzt8s8C2Lbo5Bo</span></p><p class="c1"><span class="c5">Write Node: https://host-38-142-50-110.contentfabric.io/ </span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">The &quot;Object ID&quot; identifies your new Mezzanine, you will need this value for subsequent commands.</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span>If you go into the &quot;</span><span class="c11">COMPANY_NAME</span><span class="c0">&nbsp;- Title Mezzanines&quot; library in your browser you should see the new mezzanine object. </span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span>(If you are already on the object list page you may need to click the refresh icon </span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 21.21px; height: 20.00px;"><img alt="" src="images/icon_reload.png" style="width: 21.21px; height: 20.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c0">to see the new object)</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">Drilling down into it, you should see some information about transcoding progress:</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c13"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 221.50px; height: 65.10px;"><img alt="" src="images/mez_progress.png" style="width: 221.50px; height: 65.10px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0">The percentage value shown is an average of 2 values (audio percent done and video percent done). The audio generally processes much more quickly, so you will see the value climb quickly to just above 50%, then progress much &nbsp;more slowly.</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">You can get detailed progress info with the following command:</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1 c2"><span class="c4">node testScripts/MezzanineStatus.js --objectId YOUR_NEW_MEZ_OBJECT_ID</span></p><p class="c1 c3"><span class="c0"></span></p><hr style="page-break-before:always;display:none;"><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">Your output should look something like this, listing 2 jobs (1 for audio, 1 for video):</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c5">{</span></p><p class="c1"><span class="c5">&nbsp; &quot;63fe3cbf-4660-44b2-8d93-415d97e4bd88&quot;: {</span></p><p class="c1"><span class="c5">&nbsp; &nbsp; &quot;duration&quot;: 485986884811,</span></p><p class="c1"><span class="c5">&nbsp; &nbsp; &quot;duration_ms&quot;: 0,</span></p><p class="c1"><span class="c5">&nbsp; &nbsp; &quot;progress&quot;: {</span></p><p class="c1"><span class="c5">&nbsp; &nbsp; &nbsp; &quot;percentage&quot;: 68.9119170984456</span></p><p class="c1"><span class="c5">&nbsp; &nbsp; },</span></p><p class="c1"><span class="c5">&nbsp; &nbsp; &quot;run_state&quot;: &quot;running&quot;,</span></p><p class="c1"><span class="c5">&nbsp; &nbsp; &quot;start&quot;: &quot;2020-03-26T18:49:28Z&quot;</span></p><p class="c1"><span class="c5">&nbsp; },</span></p><p class="c1"><span class="c5">&nbsp; &quot;f39c9de1-4c29-49cf-bcf9-f173bc114e73&quot;: {</span></p><p class="c1"><span class="c5">&nbsp; &nbsp; &quot;duration&quot;: 482414420927,</span></p><p class="c1"><span class="c5">&nbsp; &nbsp; &quot;duration_ms&quot;: 0,</span></p><p class="c1"><span class="c5">&nbsp; &nbsp; &quot;progress&quot;: {</span></p><p class="c1"><span class="c5">&nbsp; &nbsp; &nbsp; &quot;percentage&quot;: 3.6269430051813467</span></p><p class="c1"><span class="c5">&nbsp; &nbsp; },</span></p><p class="c1"><span class="c5">&nbsp; &nbsp; &quot;run_state&quot;: &quot;running&quot;,</span></p><p class="c1"><span class="c5">&nbsp; &nbsp; &quot;start&quot;: &quot;2020-03-26T18:49:28Z&quot;</span></p><p class="c1"><span class="c5">&nbsp; }</span></p><p class="c1"><span class="c5">}</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">The &quot;duration&quot; field is in nanoseconds (apologies - divide by 1,000,000,000 to get seconds elapsed).</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">The &quot;start&quot; field is in UTC time.</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">Depending on the format, bitrate and complexity of the original source material, and the speed of transfer between your S3 bucket and our node, it can take anywhere from 1x to 8x the actual duration of the program to complete transcoding.</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">Once both jobs show a &quot;run_state&quot; of &quot;finished&quot;, you are ready for the next step, finalization.</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c7">Finalizing a Mezzanine object</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">Finalizing the Mezzanine makes the transcoded media available for viewing and distributes it to other nodes in the Content Fabric.</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span>The command to finalize is the same as for checking progress, but with an additional </span><span class="c6">--finalize</span><span class="c0">&nbsp;parameter:</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1 c2"><span class="c4">node testScripts/MezzanineStatus.js --objectId YOUR_NEW_MEZ_OBJECT_ID --finalize</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">While the command itself should complete quickly, it can take 2-3 minutes for the finalized content to become visible in the browser. (Behind the scenes, the nodes in the fabric are distributing parts among themselves)</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span>In the browser, click the refresh icon </span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 21.21px; height: 20.00px;"><img alt="" src="images/icon_reload.png" style="width: 21.21px; height: 20.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c0">to update your view, then click on the &#39;Display&#39; tab to see the finalized content.</span></p><p class="c1 c3"><span class="c0"></span></p><hr style="page-break-before:always;display:none;"><p class="c1 c3"><span class="c21 c7"></span></p><p class="c1"><span class="c7">Grant Permissions on Mezzanine object</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">(Identical process as for Production Master)</span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span>From the object details page for your Mezzanine, click on the blue &quot;Groups&quot; button at top - you should see a screen with Access Group &quot;</span><span class="c11">COMPANY_NAME</span><span class="c0">&nbsp;Content Admins&quot; already chosen for you as the first field. </span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1"><span class="c0">Check all 3 boxes &quot;See&quot;, &quot;Access&quot;, and &quot;Manage&quot;, then click &quot;Submit&quot;. </span></p><p class="c1 c3"><span class="c0"></span></p><p class="c1 c3"><span class="c0"></span></p></body></html>